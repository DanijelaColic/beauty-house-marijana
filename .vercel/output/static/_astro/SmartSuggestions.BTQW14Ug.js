import{r as u}from"./index.Bs6cAnji.js";const d=[{id:"cut",name:"Šišanje",duration:45},{id:"color",name:"Bojanje",duration:90},{id:"style",name:"Styling",duration:30}],f={Mon:[8,20],Tue:[8,20],Wed:[8,20],Thu:[8,20],Fri:[8,20],Sat:[8,14],Sun:null},p=["2025-09-09T10:00","2025-09-09T12:00","2025-09-10T09:00","2025-09-11T16:00"],S=a=>new Date(a).toLocaleString("hr-HR",{dateStyle:"medium",timeStyle:"short"}),x=a=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(a).getDay()];function*h(a,r,o){for(let t=new Date(a);t<=r;t=new Date(t.getTime()+15*6e4)){const n=f[x(t)];if(!n)continue;const l=t.getHours()+t.getMinutes()/60;l<n[0]||l+o/60>n[1]||(yield new Date(t))}}function w(a,r,o){const t=a.getTime(),n=t+r*6e4;return o.some(l=>{const c=new Date(l).getTime(),e=c+60*6e4;return Math.max(t,c)<Math.min(n,e)})}function R(){const[a,r]=u.useState(d[0].id),[o,t]=u.useState("today"),n=d.find(e=>e.id===a)?.duration??45,l=u.useMemo(()=>{const e=new Date;let s=new Date,i=new Date;o==="today"?i.setHours(23,59,59,999):o==="tomorrow"?(s=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,23,59)):i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+7,23,59);const g=[];for(const m of h(s,i,n))m<e||w(m,n,p)||g.push(m);return g.slice(0,5)},[a,o,n]);function c(e){e.getFullYear(),String(e.getMonth()+1).padStart(2,"0"),String(e.getDate()).padStart(2,"0"),e.toTimeString().slice(0,5),window.location.hash="#rezervacije"}return React.createElement("div",{className:"card p-6"},React.createElement("div",{className:"flex flex-col md:flex-row gap-3 md:items-end"},React.createElement("label",{className:"flex flex-col gap-1"},React.createElement("span",{className:"text-sm text-slate-600"},"Usluga"),React.createElement("select",{value:a,onChange:e=>r(e.target.value),className:"select select-bordered rounded-xl"},d.map(e=>React.createElement("option",{key:e.id,value:e.id},e.name," — ",e.duration," min")))),React.createElement("label",{className:"flex flex-col gap-1"},React.createElement("span",{className:"text-sm text-slate-600"},"Raspon"),React.createElement("select",{value:o,onChange:e=>t(e.target.value),className:"select select-bordered rounded-xl"},React.createElement("option",{value:"today"},"Danas"),React.createElement("option",{value:"tomorrow"},"Sutra"),React.createElement("option",{value:"week"},"Ovaj tjedan")))),React.createElement("div",{className:"mt-4 flex flex-wrap gap-2"},l.length===0&&React.createElement("p",{className:"text-sm text-slate-600"},"Nema dostupnih termina."),l.map((e,s)=>React.createElement("button",{key:s,className:"px-4 py-2 rounded-xl border border-slate-300 hover:border-[#2563EB] hover:text-[#2563EB] transition",onClick:()=>c(e)},S(e)))))}export{R as default};
